{
	"name": "serverless-ssh-ca",
	"private": true,
	"cloudflare": {
		"bindings": {
			"ISSUER_DN": {
				"description": "This is the issuer name for your SSH certificates"
			},
			"JWT_JWKS_URL": {
				"description": "This is the URL for the JWKS so the CA can verify the JWT provided by the client"
			},
			"JWT_ISSUER": {
				"description": "The issuer of the JWT access and identity tokens provided by the client"
			},
			"JWT_ALGORITHMS": {
				"description": "The supported JWT algorithms as a comma seperated list"
			},
			"JWT_SSH_CERTIFICATE_PRINCIPALS_CLAIM": {
				"description": "The OIDC claim that contains additional SSH principals to add to the certificate. If ommitted only the default claims (via SSH_CERTIFICATE_PRINCIPALS and SSH_CERTIFICATE_INCLUDE_SELF) are added"
			},
			"SSH_CERTIFICATE_LIFETIME": {
				"description": "The lifetime of the issued SSH certificates in human readable form (ie \"24 hours\"), although the client may request a shorter duration"
			},
			"SSH_CERTIFICATE_PRINCIPALS": {
				"description": "A comma seperated list of additional principals to add to the SSH certificate"
			},
			"SSH_CERTIFICATE_INCLUDE_SELF": {
				"description": "Whether to add the users own name as a valid principal (based on the part before the @ symbol in the JWT email claim)"
			},
			"SSH_CERTIFICATE_EXTENSIONS": {
				"description": "A comma serverless list of SSH extensions to add to the certificate, although the client may request a smaller list"
			},
			"PRIVATE_KEY": {
				"description": "The ECDSA private key to use in OpenSSH format"
			},
			"CERTIFICATE_REQUEST_TIME_SKEW_MAX": {
				"description": "The maximum time offset/skew allowed for certificate requests from a client in human readable form (ie \"5 minutes\")"
			}
		}
	},
	"scripts": {
		"deploy": "wrangler deploy",
		"dev": "wrangler dev",
		"start": "wrangler dev",
		"cf-typegen": "wrangler types",
		"coverage": "vitest run --coverage --config tests/vitest.config.mts",
		"test": "wrangler deploy --dry-run && vitest run --config tests/vitest.config.mts"
	},
	"dependencies": {
		"@andrewheberle/ts-slog": "^1.1.0",
		"chanfana": "^2.8.3",
		"hono": "^4.10.6",
		"itty-time": "^2.0.2",
		"jose": "^6.0.12",
		"sshpk": "^1.18.0",
		"zod": "^3.25.76"
	},
	"devDependencies": {
		"@cloudflare/vitest-pool-workers": "^0.10.8",
		"@types/sshpk": "^1.17.4",
		"@vitest/coverage-istanbul": "^3.2.4",
		"typescript": "^5.5.2",
		"vitest": "3.2.4",
		"wrangler": "^4.26.0"
	}
}
